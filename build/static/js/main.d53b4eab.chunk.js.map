{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","person","exterminatePerson","name","number","onClick","Persons","persons","searchName","deletePerson","filter","toLowerCase","includes","map","shownPerson","key","Filter","handleNameSearch","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","isError","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","style","App","useState","setPersons","setNewName","setNewNumber","setSearchName","notificationMessage","setNotificationMessage","setIsError","useEffect","personService","initialPersons","event","target","preventDefault","result","find","undefined","window","confirm","n","updatedPerson","returnedPerson","catch","error","setTimeout","personObject","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d53b4eab.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst exterminate = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, exterminate }","import React from 'react'\r\n\r\nconst Person = ({ person, exterminatePerson }) => {\r\n    return (\r\n        <li>\r\n            {person.name} {person.number}\r\n            <button onClick={exterminatePerson}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Persons = ({ persons, searchName, Person, deletePerson }) => {\r\n\r\n    return (\r\n\r\n        <ul>\r\n            {persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\r\n                .map(shownPerson => {\r\n                    return  <Person key={shownPerson.name} person={shownPerson} exterminatePerson={() => deletePerson(shownPerson.id, shownPerson.name)} />\r\n                })\r\n            }\r\n        </ul>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ searchName, handleNameSearch }) => {\r\n    \r\n    return (\r\n        <form>\r\n            <div>\r\n            filter shown with <input value={searchName} onChange={handleNameSearch} />\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n            name: <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n            number: <input value={newNumber} onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message, isError }) => {\r\n\r\n    const notificationStyle ={\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    const errorStyle = {\r\n        ...notificationStyle,\r\n        color: 'red'\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    else if (!isError) {\r\n        return (\r\n            <div style={notificationStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    else return (\r\n        <div style={errorStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport personService from './services/persons'\r\nimport Person from './components/Person'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n\r\n  /*\r\n  const [ persons, setPersons] = useState([\r\n    { name: 'Arto Hellas', number: '040-123456' },\r\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\r\n    { name: 'Dan Abramov', number: '12-43-234345' },\r\n    { name: 'Mary Poppendieck', number: '39-23-6423122' }\r\n  ]) */\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ searchName, setSearchName ] = useState('')\r\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\r\n  const [ isError, setIsError ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const result = persons.find( ({ name }) => name.toLowerCase() === newName.toLowerCase())\r\n\r\n    if(result!==undefined) {\r\n      if(window.confirm(newName + \" is already added to phonebook, replace the old number with a new one?\")) {\r\n        const person = persons.find(n => n.id === result.id)\r\n        const updatedPerson = { ...person, number: newNumber}\r\n\r\n        personService\r\n          .update(result.id, updatedPerson)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== result.id ? person : returnedPerson))\r\n          })\r\n          .catch(error => {\r\n            setNotificationMessage(\r\n              `${newName} was already deleted from server!`\r\n            )\r\n            setIsError(true)\r\n            setTimeout(() => {\r\n              setNotificationMessage(null)\r\n              setIsError(false)\r\n            }, 5000)\r\n          })\r\n        setNotificationMessage(\r\n          `The number for ${updatedPerson.name} was updated.`\r\n        )\r\n        setTimeout(() => {\r\n          setNotificationMessage(null)\r\n        }, 5000)\r\n      }\r\n    }\r\n    else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotificationMessage(\r\n            `${personObject.name} was added to the phonebook.`\r\n          )\r\n        })\r\n        .catch((error) => {\r\n          setIsError(true)\r\n          setNotificationMessage('Give both a name and a number!')\r\n        })\r\n      setTimeout(() => {\r\n        setNotificationMessage(null)\r\n        setIsError(false)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  const deletePerson = (id, name) => {\r\n    if(window.confirm(\"Delete \" + name + \"?\")) {\r\n      personService\r\n        .exterminate(id)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.filter(n => n.id !== id))\r\n      })\r\n\r\n    setNotificationMessage(\r\n      `${name} was deleted from the phonebook.`\r\n    )\r\n    setTimeout(() => {\r\n      setNotificationMessage(null)\r\n    }, 5000)\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleNameSearch = (event) => {\r\n    setSearchName(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      <Notification message={notificationMessage} isError={isError}/>\r\n\r\n      <Filter searchName={searchName} handleNameSearch={handleNameSearch}/>\r\n\r\n      <h3>Add a new</h3>\r\n\r\n      <PersonForm\r\n        addName={addName}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n\r\n      <Persons persons={persons} searchName={searchName} Person={Person} deletePerson={deletePerson}/>\r\n\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}